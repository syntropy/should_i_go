<!DOCTYPE html>
<!-- saved from url=(0034)http://127.0.0.1:3999/chat.slide#1 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Should I Go?</title>
    <meta charset="utf-8">
    <script src="./index_files/slides.js"></script>
  <meta name="viewport" content="width=1100,height=750"><meta name="apple-mobile-web-app-capable" content="yes"><style type="text/css"></style></head>

  <body style="display: none" class="loaded">

    <section class="slides layout-widescreen">
      
      <article class="current">
        <h1>Should I Go?</h1>
        
        <h3>7 February 2013</h3>
        
          <div class="presenter">
            
  
  <p>
    Alexander Surma
  </p>
  

  
  <p>
    Voxelbrain, GDG Berlin Golang
  </p>
  

          </div>
        
      </article>
      
  
  
      <article class="next">
      
        <h3>Hype</h3>
        
  
  <p>
    You may have heared of Go. It’s been getting a lot of attention and
<br>

    therefore hate:
  </p>
  

  <ul>
  
    <li>It’s undeservingly hyped</li>
  
    <li>It’s too verbose</li>
  
    <li>Everyone will stick with C</li>
  
    <li>There’s no market</li>
  
    <li>I can has exceptions?!</li>
  
  </ul>

  
  <p>
    (I’m looking at you, <a href="http://news.ycombinator.com/" target="_blank">Hacker News</a>)
  </p>
  

      
      </article>
  
  
  
      <article class="far-next">
      
        <h3>Go is boring</h3>
        
  <ul>
  
    <li>Uses new research, but no experiments</li>
  
    <li>Consistency and pragmatism</li>
  
    <li>Go is mothering you</li>
  
  </ul>

  
  <p>
    … and I like it. It’s become my main general purpose language.
  </p>
  

      
      </article>
  
  
  
      <article>
      
        <h3>Go is boring</h3>
        
  
  <p>
    Designed (mainly) for:
  </p>
  

  <ul>
  
    <li>large teams</li>
  
    <li>multi-core systems</li>
  
    <li>distributed systems</li>
  
    <li>networking / web</li>
  
  </ul>

      
      </article>
  
  
  
      <article>
      
        <h3>What is Go?</h3>
        
  
  <p>
    An open source (BSD licensed) project:
  </p>
  

  <ul>
  
    <li>Language specification,</li>
  
    <li>Small runtime (garbage collector, scheduler, etc),</li>
  
    <li>Two compilers (<code>gc</code> and <code>gccgo</code>), cross-platform</li>
  
    <li>'Batteries included' standard library,</li>
  
    <li>Tools (build, fetch, test, document, profile, format),</li>
  
    <li>Documentation.</li>
  
  </ul>

      
      </article>
  
  
  
      <article>
      
        <h3>OOP but different</h3>
        
  
  <p>
    Go is Object Oriented, but not in the usual way.
  </p>
  

  <ul>
  
    <li><i>no</i> classes (methods may be declared on any type)</li>
  
    <li><i>no</i> subtype inheritance</li>
  
    <li>interfaces are satisfied <i>implicitly</i> (structural typing)</li>
  
  </ul>

  
  <p>
    The result: simple pieces connected by small interfaces.
  </p>
  

      
      </article>
  
  
  
      <article>
      
        <h3>Go is about concurrency</h3>
        
  
  <p>
    Go provides CSP-like concurrency primitives.
  </p>
  

  <ul>
  
    <li>lightweight threads (<i>goroutines</i>)</li>
  
    <li>typed thread-safe communication and synchronization (<i>channels</i>)</li>
  
  </ul>

  
  <p>
    The result: comprehensible, reasonable <b>concurrent</b> code	.
  </p>
  

      
      </article>
  
  
  
      <article>
      
        <h2>Code</h2>
      
      </article>
  
  
  
      <article>
      
        <h3>Hello, go</h3>
        
  <div class="code playground" contenteditable="true" spellcheck="false"><!--{{.play code/hello.go}}
--><pre style="display: none"></pre><pre>package main

import "fmt"

func main() {
    fmt.Println("Hello, go")
}
</pre><pre style="display: none"></pre></div><div class="buttons"><button>Run</button></div><div class="output" style="display: none;"><div class="buttons"><button>Run</button><button>Kill</button><button>Close</button></div><pre></pre></div>

      
      </article>
  
  
  
      <article>
      
        <h3>Hello, net</h3>
        
  <div class="code playground" contenteditable="true" spellcheck="false"><!--{{.play code/hello-net.go}}
--><pre style="display: none"></pre><pre>package main

import (
    "fmt"
    "log"
    "net"
)

const listenAddr = "localhost:4000"

func main() {
    l, err := net.Listen("tcp", listenAddr)
    if err != nil {
        log.Fatal(err)
    }
    for {
        c, err := l.Accept()
        if err != nil {
            log.Fatal(err)
        }
        fmt.Fprintln(c, "Hello!")
        c.Close()
    }
}
</pre><pre style="display: none"></pre></div><div class="buttons"><button>Run</button></div><div class="output" style="display: none;"><div class="buttons"><button>Run</button><button>Kill</button><button>Close</button></div><pre></pre></div>

      
      </article>
  
  
  
      <article>
      
        <h3>Interfaces</h3>
        
  
  <p>
    Did we just use <code>Fprintln</code> to write to a net connection?
  </p>
  

  
  <p>
    That's because a <code>Fprintln</code> writes to an <code>io.Writer</code>, and <code>net.Conn</code> is an <code>io.Writer</code>.
  </p>
  

  <div class="code" contenteditable="true" spellcheck="false"><!--{{.code code/hello-net.go /Fprintln/}}
--><pre>        fmt.Fprintln(c, "Hello!")
</pre></div>

  <div class="code" contenteditable="true" spellcheck="false"><!--{{.code code/defs.go /Fprintln/}}
--><pre>func Fprintln(w io.Writer, a ...interface{}) (n int, err error)
</pre></div>

  <div class="code" contenteditable="true" spellcheck="false"><!--{{.code code/defs.go /type.Writer/,/^}/}}
--><pre>type Writer interface {
    Write(p []byte) (n int, err error)
}
</pre></div>

  <div class="code" contenteditable="true" spellcheck="false"><!--{{.code code/defs.go /type.Conn/,/^}/}}
--><pre>type Conn interface {
    Read(b []byte) (n int, err error)
    Write(b []byte) (n int, err error)
    Close() error
    // ... some additional methods omitted ...
}
</pre></div>

      
      </article>
  
  
  
      <article>
      
        <h3>An echo server</h3>
        
  <div class="code playground" contenteditable="true" spellcheck="false"><!--{{.play code/echo-no-concurrency.go}}
--><pre style="display: none"></pre><pre>package main

import (
    "io"
    "log"
    "net"
)

const listenAddr = "localhost:4000"

func main() {
    l, err := net.Listen("tcp", listenAddr)
    if err != nil {
        log.Fatal(err)
    }
    for {
        c, err := l.Accept()
        if err != nil {
            log.Fatal(err)
        }
        io.Copy(c, c)
    }
}
</pre><pre style="display: none"></pre></div><div class="buttons"><button>Run</button></div><div class="output" style="display: none;"><div class="buttons"><button>Run</button><button>Kill</button><button>Close</button></div><pre></pre></div>

      
      </article>
  
  
  
      <article>
      
        <h3>A closer look at io.Copy</h3>
        
  <div class="code" contenteditable="true" spellcheck="false"><!--{{.code code/defs.go /Copy/,/func/}}
--><pre>// Copy copies from src to dst until either EOF is reached
// on src or an error occurs.  It returns the number of bytes
// copied and the first error encountered while copying, if any.
func Copy(dst Writer, src Reader) (written int64, err error)
</pre></div>

  <div class="code" contenteditable="true" spellcheck="false"><!--{{.code code/defs.go /type.Writer/,/^}/}}
--><pre>type Writer interface {
    Write(p []byte) (n int, err error)
}
</pre></div>

  <div class="code" contenteditable="true" spellcheck="false"><!--{{.code code/defs.go /type.Reader/,/^}/}}
--><pre>type Reader interface {
    Read(p []byte) (n int, err error)
}
</pre></div>

  <div class="code" contenteditable="true" spellcheck="false"><!--{{.code code/defs.go /type.Conn/,/^}/}}
--><pre>type Conn interface {
    Read(b []byte) (n int, err error)
    Write(b []byte) (n int, err error)
    Close() error
    // ... some additional methods omitted ...
}
</pre></div>

      
      </article>
  
  
  
      <article>
      
        <h3>Goroutines</h3>
        
  
  <p>
    Goroutines are lightweight threads that are managed by the Go runtime. To run a function in a new goroutine, just put "`go`" before the function call.
  </p>
  

  <div class="code playground" contenteditable="true" spellcheck="false"><!--{{.play code/goroutines.go}}
--><pre style="display: none"></pre><pre>package main

import (
    "fmt"
    "time"
)

func main() {
    go say("I'm last", 3)
    go say("I'm middle", 2)
    go say("I'm first", 1)
    time.Sleep(4 * time.Second)
}

func say(text string, secs int) {
    time.Sleep(time.Duration(secs) * time.Second)
    fmt.Println(text)
}
</pre><pre style="display: none"></pre></div><div class="buttons"><button>Run</button></div><div class="output" style="display: none;"><div class="buttons"><button>Run</button><button>Kill</button><button>Close</button></div><pre></pre></div>

      
      </article>
  
  
  
      <article>
      
        <h3>A concurrent echo server</h3>
        
  <div class="code playground" contenteditable="true" spellcheck="false"><!--{{.play code/echo.go}}
--><pre style="display: none"></pre><pre>package main

import (
    "io"
    "log"
    "net"
)

const listenAddr = "localhost:4000"

func main() {
    l, err := net.Listen("tcp", listenAddr)
    if err != nil {
        log.Fatal(err)
    }
    for {
        c, err := l.Accept()
        if err != nil {
            log.Fatal(err)
        }
        go io.Copy(c, c)
    }
}
</pre><pre style="display: none"></pre></div><div class="buttons"><button>Run</button></div><div class="output" style="display: none;"><div class="buttons"><button>Run</button><button>Kill</button><button>Close</button></div><pre></pre></div>

      
      </article>
  
  
  
      <article>
      
        <h3>Closures and return values</h3>
        
  <div class="code playground" contenteditable="true" spellcheck="false"><!--{{.play code/closure.go}}
--><pre style="display: none"></pre><pre>package main

import "fmt"

func doAndPrint(x, y string, f func(x, y string) (string, string)) {
    x, y = f(x, y)
    fmt.Println(x, y)
}

func swap(x, y string) (string, string) {
    return y, x
}

func main() {
    doAndPrint("x", "y", swap)
}
</pre><pre style="display: none"></pre></div><div class="buttons"><button>Run</button></div><div class="output" style="display: none;"><div class="buttons"><button>Run</button><button>Kill</button><button>Close</button></div><pre></pre></div>

      
      </article>
  
  
  
      <article>
      
        <h3>Channels</h3>
        
  <div class="code playground" contenteditable="true" spellcheck="false"><!--{{.play code/sieve.go /START OMIT/,/END OMIT/}}
--><pre style="display: none">package main

import (
	"fmt"
)

func Generate() &lt;-chan int {
	ch := make(chan int)
	go func() {
		for i := 2; ; i++ {
			ch &lt;- i
		}
	}()
	return ch
}

</pre><pre>func Filter(in &lt;-chan int, prime int) &lt;-chan int {
    out := make(chan int)
    go func() {
        for {
            i := &lt;-in
            if i%prime != 0 {
                out &lt;- i
            }
        }
    }()
    return out
}

func main() {
    primes := Generate() // 2, 3, 4, 5, …
    for i := 0; i &lt; 10; i++ {
        prime := &lt;-primes
        fmt.Println(prime)
        primes = Filter(primes, prime)
    }
}

</pre><pre style="display: none"></pre></div><div class="buttons"><button>Run</button></div><div class="output" style="display: none;"><div class="buttons"><button>Run</button><button>Kill</button><button>Close</button></div><pre></pre></div>

      
      </article>
  
  
  
      <article>
      
        <h3>Batteries included</h3>
        
  <ul>
  
    <li>bufio</li>
  
    <li>compress/gzip, compress/bzip2</li>
  
    <li>crypto/aes, crypto/sha256, crypto/x509</li>
  
    <li>encoding/json, encoding/xml</li>
  
    <li>html/template</li>
  
    <li>image/gif, image/jpeg, image/png</li>
  
    <li>math/cmplx, math/big</li>
  
    <li>net/http, net/mail, net/smtp</li>
  
    <li>reflect</li>
  
    <li>sync/atomic</li>
  
    <li>unicode</li>
  
  </ul>

      
      </article>
  
  
  
      <article>
      
        <h3>If that’s not enough</h3>
        
  <div class="code" contenteditable="true" spellcheck="false"><!--{{.code code/imports.go}}
--><pre>package main

import (
    "code.google.com/p/go.net/websockets"
    "github.com/surma/stacksignal"
    "github.com/voxelbrain/goptions"
    "labix.org/v2/mgo"
)

func main() {
    // ...
}
</pre></div>

  
  <p>
    Dependencies will be automatically installed.
  </p>
  

      
      </article>
  
  
  
      <article>
      
        <h3>Documentation</h3>
        <p class="link"><a href="http://godoc.org/github.com/voxelbrain/goptions" target="_blank">godoc.org/github.com/voxelbrain/goptions</a></p>
<iframe src="about:blank" height="500" width="970"></iframe>

      
      </article>
  
  
  
      <article>
      
        <h3>Go 1.1</h3>
        
  <ul>
  
    <li>Inofficially announced to be released in Q1 2013</li>
  
    <li>Backwards compatible (i.e. semantic versioning)</li>
  
  </ul>

  
  <p>
    This is from November!
  </p>
  

      
      </article>
  
  
  
      <article>
      
        <h3>Go 1.1 – Toolchain</h3>
        
  <ul>
  
    <li>Linux/ARM support for cgo,</li>
  
    <li>Compiler improvements (escaping, inlining, softfloat)</li>
  
    <li>Race detector</li>
  
    <li>parallel, precise GC</li>
  
  </ul>

      
      </article>
  
  
  
      <article>
      
        <h3>Go 1.1 – Library</h3>
        
  <ul>
  
    <li>encoding/json more integrated, new Number type</li>
  
    <li>Image library overhaul</li>
  
    <li>Performance, performance, performance</li>
  
  </ul>

      
      </article>
  
  
  
      <article>
      
        <h3>Further reading</h3>
        
  
  <p>
    All about Go:
  </p>
  
<p class="link"><a href="http://golang.org/" target="_blank">golang.org</a></p>
  
  <p>
    Andrew Gerrand’s Chat Roulette talk
  </p>
  
<p class="link"><a href="http://vimeo.com/53221560" target="_blank">Watch the talk on Vimeo</a></p>
  
  <p>
    "Go Concurrency Patterns" by Rob Pike:
  </p>
  
<p class="link"><a href="http://golang.org/s/concurrency-patterns" target="_blank">golang.org/s/concurrency-patterns</a></p>
      
      </article>
  
  
  
      <article>
      
        <h3>Further visiting</h3>
        
  
  <p>
    GDG Berlin Golang
  </p>
  
<p class="link"><a href="http://gplus.to/gdgberlingolang" target="_blank">gplus.to/gdgberlingolang</a></p>
  
  <p>
    Tomorrow 7pm @c-base: Go IDEs/Editors and a webservice in Go
  </p>
  

      
      </article>
  
  

      <article>
        <h3>Thank you</h3>
        
          <div class="presenter">
            
  
  <p>
    Alexander Surma
  </p>
  

  
  <p>
    Voxelbrain, GDG Berlin Golang
  </p>
  
<p class="link"><a href="mailto:asu@voxelbrain.com" target="_blank"></a></p><p class="link"><a href="http://github.com/surma" target="_blank"></a></p><p class="link"><a href="http://twitter.com/surmair" target="_blank">@surmair</a></p>
          </div>
        
      </article>

  
  
  <script src="./index_files/play.js"></script><script src="./index_files/socket.js" type="text/javascript"></script><script src="./index_files/play(1).js" type="text/javascript"></script>
  

<div class="slide-area" id="prev-slide-area"></div><div class="slide-area" id="next-slide-area"></div></section><link rel="stylesheet" type="text/css" href="./index_files/css"><link rel="stylesheet" type="text/css" href="./index_files/styles.css"><link rel="stylesheet" type="text/css" media="print" href="./index_files/print.css"></body></html>